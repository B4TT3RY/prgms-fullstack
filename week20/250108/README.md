# 2025/01/07 20주차 파트 4

## 컴퓨터 하드웨어 구성

- 중앙처리장치: CPU (central processing unit)
- 주기억장치: Memory (RAM/ROM)
- 보조기억장치: Storage (HDD, SSD, Optical discs, magnetic tapes, ...)
- 입출력장치: I/O Devices (keyboard, mouse, display, printe, network)

## 중앙처리장치 (CPU)

- 제어장치: 명령어를 해석하여 그 실행에 필요한 제어 신호를 발생시킴
- ALU: 산술 및 논리 연산 등을 수행
- 레지스터: 연산의 대상 (operand) 및 연산 결과 등을 저장

## 명령어 집합 구조

ISA (Instruction Set Architecture)

- 마이크로프로세서가 인식해서 기능을 이해하고 실행할 수 있는 명령어 (기계어 명렁어)들의 집합

다음과 같은 것들을 정의

- 중앙처리장치가 표현할 수 있는 자료형
- 중앙처리장치에 명령할 수 있는 기계어들의 종류
- 주소지정법 (addressing modes)

## 마이크로아키텍처 (Microarchitecture)

명령어 집합 구조를 물리적으로 구현한 것

같은 ISA를 서로 다른 microarchitecture로 구현하기도 함

- 예: Intel vs AMD

## 명령어의 기능 및 종류

- 산술 및 논리 연산 명령
  - ADD, SUB, MUL, DIV, ...
  - AND, OR, NOT, ...
- 실행 제어 명령
  - 프로그램의 실행을 순차에서 벗어나 다른 곳으로 옮김
  - 브랜치, 점프, ...
- 데이터 전송 명령
  - 레지스터/메모리/입출력장치 사이에 데이터 전송
- 기타
  - 인터럽트 제어
  - 명령어 실행 권한을 변경
  - ...

## CISC vs RISC

- CISC (Complex Instruction Set Computing)
  - 여러 동작을 한꺼번에 할 수 있는 여러 가지 명령어들을 제공
  - 명령어들의 형식과 길이가 다양하고, 주소 지정 방식도 다양함
  - 주로 마이크로프로그램 제어 방식의 프로세서로 구성
- RISC (Reduced Instruction Set Computing)
  - 고정된 길이의 최소 종류의 명령어들을 제공
  - 주소 지정 방식 최소화, Load/Store 방식의 메모리 접근
  - 한 클럭 사이클에 하나의 명령을 실행할 수 있도록 설계

## 명령어 파이프라인 (Instructino Pipelining)

모든 명령어들의 실행을 동일한 단계들로 나누고 한 클럭 사이클에 한 단계씩 진행하도록 하여 동시에 여러 명령어들의 서로 다른 단계를 실행

## 메모리 주소 공간

메모리 내의 매 바이트 (byte) 마다 독립된 (그리고 연속된) 주소를 부여하는 것이 일반적인 메모리 조직

## 프로그램 번역/실행의 모델 비교

- 컴파일러 방식의 장점
  - 번역을 실행 이전에 해 두므로 코드를 공들여 최적화할 수 있음
  - 따라서 코드 실행의 효율이 높음
- 인터프리터 방식의 장점
  - 다른 컴퓨터로 옮겨 실행하는 것이 편리함
  - 대화형 개발이 가능함

이 두 방식의 장점을 택한 (어중간한) 방법들도 이용됨

## 가상 기계를 이용한 실행 모델

컴파일러 방식과 인터프리터 방식의 장점을 취하려는 의도

- 컴파일러에 의하여 코드 최적화 가능, 실행 효율이 높음
- 동일한 모델의 가상기계 (VM)를 운용하는 어떠한 컴퓨터에서도 실행 가능
  - (네트워크를 통해 코드를 공유하는 것도 일반적)

## 라이브러리 (Libraries)

많은 프로그램들이 공히 이용하는 기능을 담당하는 소프트웨어를 모듈화하여 준비해 둔 것

- 콘솔 및 파일 입출력
- GUI
- 수학 연산
- 인터넷 접근
- 데이터 분석

## 소프트웨어의 분류

||시스템 소프트웨어|응용 소프트웨어|
|---|:---:|:---:|
|**기능**|컴퓨터 시스템을 운용하거나 소프트웨어 개발을 지원하는 데 이용되는 소프트웨어의 모음|컴퓨터 시스템이 응용될 분야에 따른 기능을 구행하도록 만들어진 프로세서|
|**종류**|운영체제, 컴파일러, 링커/로더, 시스템 운용 도구들|워드 프로세서, 스프레드시트, 웹 브라우저, 게임, 등등...|

## 운영체제 (Operating System)

컴퓨터 시스템이 살아가기 위하여 반드시 필요한 소프트웨어 (의 모음)

운영체제의 역할

- 컴퓨터 시스템의 자원을 관리
  - (자원의 종류) 프로세서 시간, 메모리 공간, 입출력 장치, 파일 등
- 사용자에게 시스템 자원을 활용할 수 있는 기능을 제공
  - 단일 사용자 시스템의 경우, 다소 간단
  - 다중 사용자 시스템의 경우, 다소 복잡

## 운영체제의 분류

운용 대상 시스템이 어떤 종류의 것인지?

- 범용 (general purpose) / 내장형 (embedded)

여러 사용자들에 대해 서비스를 제공할 것인지?

- 단일 사용자 (single-user) / 다중 사용자 (multi-user)

여러 개의 중앙처리장치로 이루어진 시스템을 지원할 것인지?

- 단일 프로세서 (uniprocessor) / 다중 프로세서 (multiprocess)

어던 방식으로 복수의 작업을 행할 것인지?

- 시분할 방식 (batch processing) / 다중 프로그래밍 (multiprogramming)

## 운영체제의 역할

컴퓨터 시스템의 자원을 관리

- 프로세스 관리
- 메모리 관리
- 파일 시스템 관리
- 입출력 장치 관리

사용자에게 시스템 활용 도구를 제공

- 텍스트 에디터
- 시스템 관리 도구
- 소프트웨어 개발 도구 (환경)
- 웹 브라우저

## 운영체제 커널 (kernel)

운영체제 핵심 (core) 부분에 위치

- 시스템의 모든 측면에 대한 완전한 권한을 가지고 있음
- 사용자 (및 프로세스) 간 충돌 또는 침해로부터의 보호와 함께 효율적이면서 공정한 자원 공유 (배분) 담당

시스템 자원에 대한 완전한 제어권을 구사하기 위해서 하드웨어의 지원이 필요

- (대표적으로) user mode vs kernel mode, exception levels

커널 외의 부분 ("사용자" 라고 부름)을 이루는 코드는 시스템 자원 접근을 위해서 커널의 서비스를 이용

- (대표적으로) 시스템 콜 (system call)

## 시스템 콜 (System Calls)

운영체제 커널이 제공하는 서비스에 대한 응용 프로그램의 요청을 가능하게 하기 위한 프로그래밍 인터페이스

응용 프로그램은 보통 고급 API (라이브러리) 함수들을 통하여 시스템 호출에 접근

시스템 콜의 호출은 프로세서의 실행 문맥 (context)을 특권 모드 (privileged mode)로 전환시킴

## 프로세스 (Process)

컴퓨터 시스템에서 CPU 및 메모리를 이용하여 실행 중인 작업

컴퓨터 시스템에서 실행되는 (거의) 모든 소프트웨어는 하나 이상의 프로세스를 이룸

프로세스는 생명 주기 (life cycle)를 가지며, 이것은 운영체제가 관리

프로그램 != 프로세스

- 프로그램은 실행이 준비된 소프트웨어의 덩어리
- 프로세스는 지금 실행하고 있는 소프트웨어의 생명체

## 프로세스 관리 (Process Management)

운영체제는 각 프로세스의 상태를 유지관리하고 각  프로세스가 시스템 자원으 사용할 수 있또록 관리하고 있음

## 동시성 (Concurrenccy)

동시성을 가지는 일들을 처리하는 데에는 동기화 (synchronization)가 필요

- 이것은 운영체제의 매우 중요한 임무 중 하나

## 스케줄링 (scheduling)

스케줄링 문제: 어느 순간 어느 작업을 수행할 것인지를 결정하는 문제

효율성 (efficiency)과 공정성 (fairness) 사이의 이해득실 관계

- 응답 시간 (response time)을 최소화
  - 각 작업이 도착했을 때로부터 완료된 때까지의 시간이 중요
- 시스템 처리율 (throughput: 단위 시간 당 처리한 작업량)을 극대화
  - 문맥 전환의 오버헤드를 고려하면 응답시간과 같은 기준이 아님
- 공정성을 해치지 말 것: 자칫 우선 순위가 낮은 작업은 영원히 기다려야 (starvation) 할 수도

## 컴퓨팅 시스템 자원의 추상화

- 프로세스: CPU 시간에 대한 추상화
  - 각 프로세스 (실행중인 프로그램)는 자신에게 CPU 시간이 전체 중 일부가 주어지는 것으로 가상할 수 있음
- 가상 메모리: 메모리 공간에 대한 추상화
  - 각 프로세스는 전체 주소 공간을 모두 자신에게 할당된 메모리로 사용할 수 있는 것으로 가상할 수 있음
- 파일 시스템: 입출력 장치들을 일관된 인터페이스로 추상화
  - 각 프로세스는 실제 입출력 장치의 동작 방식과는 무관하게 파일을 조작하는 것과 동일한 일관된 방법을 통하여 서로 다른 장치의 입ㅂ출력을 이용할 수 있음

## 메모리 계층 구조와 가상 메모리

높을수록 빠른 접근 속도, 낮을수록 낮은 비트당 비용

- 레지스터: CPU 안에 있으면, 하드웨어에 의하여 제어
- 캐시 메모리: CPU 안 또는 매우 가까이 있으며, 하드웨어에 의하여 제어
- 주기억장치 (메인 메모리): CPU와 메모리 버스로 연결되어 있으며 하드웨어에 의하여 제어
- 보조기억장치 (스토리지): 운영체제와 하드웨어의 협력에 의하여 주기억장치에 대한 가상화를 제공

## 가상 메모리 (Virtual Memory)

프로세스에게 메모리를 할당해 주고 프로세스가 반환하는 메모리를 "이용 가능한 것"으로 관리하고 서로 다른 프로세스가 남의 메모리를 침범하지 못하도록 하는 일들은, 모두 운영체제의 몫

## 요구 페이징 (Demand Paging)

페이지 폴트 (page fault)를 줄이는 것은 전체 시스템 성능 향상에 매우 중요

- 지역성 (locality)에 근거하여 메모리 페이지들을 저장 장치로부터 읽어들여 메모리에 적재
- 캐시 메모리 (cache memory)의 관리와 유사한 방법
  - 교체 기법에 LRU (least recently used) 및 이를 근사화한 알고리즘을 적용

참조의 지역성 (locality of references)

- 시간적 지역성 (temporal locality)
  - 지금 참조된 주소는 가까운 미래에 또다시 참조될 가능성이 매우 높음
- 공간적 지역성 (spatial locality)
  - 지금 참조된 주소와 가까운 주소가 미래에 참조될 가능성이 매우 높음

## 파일 시스템 (Filesystem)

저장장치 (storage)는 입출력장치와는 조금 다른 특성을 가짐

- 단지 데이터를 입출력하는 것 외에 메모리 서브시스템의 일부 (가상메모리)로서 역할/기능을 가지기 때문

운영체제는 저장장치를 파일시스템으로 추상화

- 디스크 드라이브는 입출력 장치 관리 방법에 의하여 관리되며, 이 장치를 이용하여 "파일"의 형태로 추상화된 데이터 집합을 이용할 수 있는 운영체제의 일부 (파일시스템)를 구현

(특히 UNIX 계열의 운영체제에서는) 많은 종류의 장치들을 파일로 간주하는 추상화 방식을 통하여 일관된 방법으로 장치를 접근할 수 있도록 관리

- 장치 관리자 (device driver)가 커널의 문맥에서 실행하면서 각 장치의 입력/출력 및 기타 제어를 담당

## 장치 관리자 (Device Driver)

장치 관리자는 하드웨어 제조사에 의하여 제공되는 경우도 많지만 운영체제의 일부로 보는 것이 타당

## 데이터베이스

여러 사용자와 응용 시스템들이 사용 목적은 다르지만 공통의 데이터를 서로 공유하여 사용할 수 있도록 통합하여 저장 관리하는 모임

- 통합 데이터: 연관성 있는 데이터, 중복 부분의 최소화
- 저장 데이터: 자기 디스크 등 컴퓨터로 접근 가능한 매체에 기록
- 운영 데이터: 조직의 존재 목적이나 기능을 수행하는 데 필수인 데이터
- 공용 데이터: 여러 사용자와 여러 응용 시스템으로부터 공유 접근 가능

## 데이터베이스의 특징

- 실시간 접근성 (real-time accessibility)
  - 사용자나 응용 시스템에서 요구하는 질의에 대하여 데이터를 실시간으로 처리한 뒤 바로 응답할 수 있어야 함
- 동시 공유 (concurrent sharing)
  - 여러 사용자와 응용 시스템이 동시에 (서로 다른 목적) 원하는 데이터에 접근할 수 있어야 함
- 지속적인 변화 (concurrent sharing)
  - 새로운 데이터의 삽입, 삭제, 수정, 갱신 등의 작업을 통해 항상 최신의 데이터를 정확하게 유지하고 있어야 함
- 내용에 의한 참조 (content reference)
  - 데이터의 위치에 상관 없이 사용자가 원하는 내용으로 참조할 수 있어야 함

## 데이터베이스의 구성 요소

개체 (entity)와 그들이 가지는 속성 (attribute), 그리고 개체 사이의 관계 (relation)

## 데이터베이스 이용으로 얻는 장점들

- 데이터 중복 최소화
- 데이터 무결성
  - 정확한 정보를 보장
- 데이터 일관성
- 데이터 독립성
  - 물리적 독립성과 논리적 독립성
- 데이터 표준화
- 데이터 보안 유지

## 관계형 데이터베이스 (Relational DB)

개체와 개체 사이의 관계를 표현하기 위하여 2차원의 표 (table)를 사용

## 키 (Keys)

한 튜플을 다른 튜플들과 구별하는 하나 이상의 속성의 집합

- 참조 무결성: 참조할 수 없는 외래키 (외부키) 값을 가질 수 없음
- 개체 무결성: 기본 키에 속하는 속성은 비어 있을 수 없음

## 관계형 대수 연산 (Relational Algebra)

관계형 데이터베이스에서

- 릴레이션을 대상으로 하여 릴레이션을 만들어 내는 수학적 연산의 집합
- 이것들을 조합하여 데이터베이스 내의 데이터 조작이 가능

합집합, 교집합, 차집합, 곱집합, 프로젝션, 셀렉션, 조인

참고: 릴레이션 vs 테이블

- 테이블은 데이터베이스의 데이터가 저장된 물리적 구조를 가리키는 데 주로 쓰이는 용어이며
- 릴레이션은 데이터베이스 모델링에서 주로 쓰이는 용어
  - 추가의 제약 조건이 존재하며, 물리적으로 저장되어 있지 안은 릴레이션들을 동적으로 생성 가능

## SQL (Structured Query Language)

- 테이블에 데이터 삽입 (새로운 행 추가): INSERT
- 데이터 삭제 (행 제거): DELETE
- 데이터 갱신: UPDATE
- 데이터 검색: SELECT

다음과 같은 분류들을 널리 이용함

- DML (Data Manipulation Language)
- DDL (Data Definition Language)
- DCL (Data Control Language)
- TCL (Transaction Control Language)

## 트랜잭션 (Transaction)

데이터베이스 관리 시스템 (DBMS)에서 상호작용의 단위

- 데이터베이스의 데이터 무결성 (또는 완전성; integrity) 유지 확신을 위하여 지원되어야 함

트랜잭션을 지원하는 데이터베이스를 transactional database 라고 부름

- 현재 대부분의 관계형 DBMS는 transactional DB

트랜잭션이 가지는 (만족해야 하는) 속성: ACID

- 원자성 (atomicity): 하나의 트랜잭션은 모두 실해오디거나 전혀 실행되지 않아야 함
- 일관성 (consistency): 트랜잭션의 실행 전후에 데이터베이스 상태가 일관되어야 함
- 독립성 (isolation): 여러 트랜잭션이 병렬 실행되는 경우에도 서로 간섭하지 않도록 격리되어야 함
- 영구성 (durability): 완료된 트랜잭션의 실행 결과는 데이터베이스에 영구 보존되어야 함

## ORM (Object-Relational Mapper)

관계형 데이터베이스의 테이블과 객체지향 프로그램의 클래스 사이를 연결

ORM의 활용으로 얻는 이점

- SQL 문장이 아닌 클래스의 메소드를 이용한 데이터베이스 접근/조작
- 코드의 재사용성, 유지보수 가능성, 리팩토링 용이성 향상
- DBMS에 대한 종속성 감소

ORM의 한계점

- 객체와 릴레이션 사이의 불일치에 기인하여 발생하는 비효율

## 비정형 데이터 (Unstructured Data)

비정형 데이터의 정의

- 설계된 모델이나 구조로 구성되지 않은 데이터
- 질적인 것으로 분류되며 인간 또는 기계에 의하여 생성됨

비정형 데이터의 예

- 리치 미디어: 오디오 또는 비디오 데이터, 보안 감시 데이터, 지리 공간 데이터
- 사물 인터넷 (IoT) 데이터: 장치의 티커 또는 센서 데이터 등
- 텍스트 데이터: 이메일, 문자 메시지, 인보이스, 레코드 및 생산성 애플리케이션 통신 데이터 등
- 과학적 데이터: 기계가 생성한 우주 탐사 또는 지진 보고서 등
- 의료 데이터: MRI, X선 및 CT 스캔 등의 의료 데이터와 영상 정보 등

## 비정형 데이터 처리의 어려움

- 방대한 볼륨
  - 기존 데이터의 80% 분량을 차지하며 지속적으로 많은 데이터가 생성되고 있음
- 다양성
  - 다양한 데이터 유형으로 구성되어 있어 저장과 상호 참조에 연관한 어려움 발생
- 품질
  - 일관성이 보장되지 않으며 오류 및 불일치 등이 항상 존재
- 보관 및 개인정보 보호
  - 중요하거나 민감한 데이터가 포함되어 있을 수 있으며, 이를 정교하게 판단하고 보안서응ㄹ 유지하는 것이 어려움
- 통합
  - 사전에 정의된 데이터 모델이 없어 전체적인 뷰를 위해 정형 데이터와 통합하는 것이 복잡

## 벡터 데이터베이스 (Vector DB)

벡터

- 데이터 객체를 수치화하여 포함한 것
- 때로는 벡터의 차원이 너무 높을 수 있음

벡터 임베딩 (Vector Embedding)

- 주제, 단어, 이미지 또는 기타 데이터를 숫자로 표현한 것
- 대규모 언어 모델 (LLM) 및 기타 AI 모델에 의하여 생성되는 것이 일반적
- 각 벡터 임베딩 사이의 거리를 계산하여 검색 엔진이 벡터 간의 유사성을 정의할 수 있음
- 벡터 임베딩을 색인하고 질의하는 방식의 벡터 데이터베이스를 이용하여 데이터 저장 및 검색 실행

## 예) Word Embeddings

많은 양의 문서를 분석하여 단어들 사이의 통계적 유사성을 도출하여 벡터 공간을 구성

- 통상 수백 차원의 벡터로 이루어진 임베딩을 도출

## LSH (Locality-Sensitive Hashing)

유사도가 높은 입력값들이 높은 확률로 같은 버킷 (bucket)에 해시되도록 하여 낮은 시간 복잡도로 유사한 벡터를 찾을 수 있도록 하는 기법

- 고차원 벡터 공간을 여러 개의 해시 버킷으로 분할하는 해시 함수
- 데이터 클러스터링 및 유사도 검색에 활용

Audio/video fingerprinting 등에 널리 이용됨

## ANNOY

Approximate Nearest Neighbours Oh Yeah

최근접 이웃의 정확도를 다소 포기하고 시간 비용을 크게 절감하는 근사 검색 기법

- 벡터 공간에서 임의의 두 점을 선택하고, 이 두 점 사이의 초평면으로 벡터 공간 분할
- 분할된 공간에 포함된 점 (벡터; 데이터 포인트) 들의 개수를 노드로 하는 이진 트리를 생성
- 각 노드에 포함된 점들의 개수가 k개 미만이 될 때까지 위 과정을 반복하여 최종 검색 트리 완성
- 쿼리 입력 (벡터)을 검색 트리에서 검색한 뒤 해당 부근 공간에서 최근접 이웃을 검색

## 벡터 데이터베이스의 활용

- AI/ML 응용
  - 의미 정보 검색 및 장기 기억을 통하여 AI 기능을 향상시킬 수 있음
- 유사도 기반 추천 시스템
  - 선택된 아이템과 유사한 아이템을 검색하여 상품/콘텐츠 추천 알고리즘에 적용
- NLP (Natural Langugae Processing; 자연어 처리) 응용
  - 텍스트 임베딩을 통하여 자연어 이해 및 생성에 적용
- 이미지 인식 및 검색 응용
  - 유사하거나 일치하는 이미지를 검색하기 위하여 특성 벡터를 추출하고 이것을 데이터베이스 화

## NoSQL

"Not Only SQL"

- RDBMS와는 다른 방식으로 데이터를 저장하고 색인
- 실시간 웹 응용 및 빅데이터 응용에 널리 이용됨

비관계형 데이터베이스의 이점

- 유연성
  - 엄격한 스키마 없이 자유로운 형식으로 데이터를 저장하고 활용, 프로그래밍 효율 증대
- 확장성
  - 일관성 (consistency)의 일부 양보를 통한 확장 가능성의 향상
- 고성능
  - RBMS에 비하여 느슨한 제약에 의하여 높은 입출력 성능 도모

## NoSQL 데이터베이스의 종류

- Key-Value
  - 키와 값의 쌍을 기본 집합 (aggregative) 데이터로 간주하고 저장, 수평적 확장이 용이하고 속도가 빠름
  - Memcached, rRedis, Amazon DynamoDB 등
- Document
  - 키와 도큐먼트 (계층적 형태의 객체)의 형태로 데이터 저장, json 또는 xml 형태의 결과를 이용
- Column-Family
  - 함께 접근되는 연관된 데이터들을 함께 저장하여 대규모 데이터를 다루는 데 적합한 이용 방식 제공
- Graph
  - Social media 응용 등에서 객체들 사이의 관계를 저장 및 빠르게 검색하기 위하여 이용

## NoSQL 데이터베이스의 활용

RDBMS를 대체할 것으로 예상하지는 않음

ACID 트랜잭션의 지원이 필수가 아닌 시스템에서는 응용이 확대될 전망

- Facebook, Twitter 등의 소셜 네트워크 서비스에서 게시글들을 저장하는 데 이용한 것으로 알려져 있암
- 초기에는 주로 Cassandra를 사용하였고, 이후 HBase의 이용이 확대

분산 데이터베이스로 고성능 서비스를 구축하는 데 적합

빅데이터 및 인공지능 응용의 확대에 따라 새로운 형태의 데이터베이스 관리 기법의 출현에 대한 기대를 갖게 함
