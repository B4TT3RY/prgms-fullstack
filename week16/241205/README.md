# 2024/12/05 16주차 파트 4

## 인수 테스트 (UAT; User Acceptance Test)

요구사항대로 기능이 구현되었는지를 확인하는 과정

- 전체 시스템을 사용자 관점에서 시험하는 블랙박스 테스트를 포함

이것을 자동화하는 것은 쉽지 않은 일이지만 CI/CD의 구축을 위해 반드시 필요

- 전통적으로는 QA 담당자나 사용자의 수작업에 의존해 왔음

사용자 인수 테스트를 자동화 하는 것이 어려운 요인들

- 사용자 참여: 기술적 측면과 비기술적 측면에 대한 요구사항의 최종 확인은 실사용자여야 함
- 의존성 통합: 테스트할 애플리케이션은 모든 의존성을 포함하여 실행되어야 함
- 스테이징 환경: 프로덕션 환경과 동일한 스테이징 환경에서 이루어져야 함
- 애플리케이션 동일성: 한 번만 빌드하여 프로덕션에서와 동일한 바이너리를 이용해야 함
- 릴리즈 준비: 인수 테스트를 통과한 애플리케이션은 즉시 릴리즈 준비가 되어야 함

## 도커 레지스트리

컨테이너화된 소프트웨어 산출물인 도커 이미지를 관리할 수 있는 레포지토리

### 클라우드 방식 레지스트리

- Docker Hub (및 이와 유사한 기능을 제공하는 레지스트리 서비스들)
- 상용 클라우드에서 제공하는 서비스 (예: AWS ECR, GCP Artifact Registry, Azure Container Registry, ...)

### 자체 호스팅 방식 레지스트리

- 사내 네트워크가 아닌 외부에 소프트웨어를 보관하는 것을 금지하는 정책을 갖고 있는 경우에는 유일한 해결 방법
- 직접 관리해야 하는 부담이 있고 접근 제어 및 인증서 설정 등의 번거로운 작업이 수반됨

## 사용자-대면 테스트

REST API의 경우에는 curl에 의한 테스트로도 (기술적으로는) 어느 정도 블랙박스 테스트가 가능함

그러나 일반적으로는 이런 테스트에 의존할 수 없음

- 읽고 이해하기가 어려움 (특히 비기술 영역 사용자에게)
- 유지보수에 불리함

사용자와 함께 작성할 수 있고 사용자가 이해할 수 있는 테스트 작성 방법이 필요

- 특정한 목적(사업적 가치)을 반영하는 인수 테스트

## BDD (Behavior-Driven Development)

사용자(또는 프로젝트 오너)가 인수 기준을 제시

위 인수 기준으로부터 개발자는 픽스쳐(fixture) 또는 스텝 정의(step definitions)라고 부르는 사용자 친화적인 DSL(Domain-specific Language)와 프로그래밍 언어를 통합해서 테스트를 작성

### 도와주는 도구들

- Cucumber
- Selenium
- ...

## TDD (Test-Driven Development)

(중요) 인수 테스트는 기술보다 사람이 중심

- 지속적 인도 프로세스의 다른 단계들도 마찬가지

소프트웨어 개발 수명 주기 중 어느 시점에 테스트 작성?

- 코딩 전? 코딩 후?
- TDD는 특히 인수 테스트에 적합

인수 기준 사양을 먼저 작성

- 인수 테스트 통과를 기능 구현 완료로 간주
- 이슈 추적 도구의 요청 티켓에 기능 사양을 첨부하는 방법도 있음
