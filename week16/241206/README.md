# 2024/12/06 16주차 파트 5

## IaC (Infrastructure as Code)

- 구성 관리 (Configuration Management)
  - 구성 (또는 형상; Configuration)은 의존성 때문에 코드에 못지 않게 소프트웨어 시스템에 큰 영향을 미침
  - 따라서 구성 관리 (또는 형상 관리)는 잦은 빌드, 통합, 릴리즈로 이루어지는 CI/CD에 중요한 측면
  - 이를 체계적으로 관리하고 자동화할 수 있는 여러 종류의 도구가 만들어지고 이용되어 왔음
- IaC (Infrastructure as Code)
  - 인프라스트럭쳐 (소프트웨어가 의도된 목적을 활용하기 위하여 이용하는 구성 관리)를 생성, 변경, 관리
  - 수작업에 의하는 것보다 안정성, 일관성, 재현 가능성을 향상시킬 수 있음
  - 버전 관리, 재사용, 공유 등에 유리

## 소프트웨어 배포 환경 유형

- 개발 환경
  - 코드 개발에 적용: 모든 개발자가 이용하는 공유 서버를 활용하거나 개발자마다 별도의 실행 환경을 활용
- 테스트 환경
  - QA 팀이 외부 시스템과의 상호작용을 포함한 통합 테스트에 적용: 실제 서비스 운용 구성과 같지 않음
- 스테이징 환경
  - 실제 서비스하기 직전에 최종 테스트에 적용: 서비스 운용 환경(프로덕션)을 가능한 한 그대로 복제
- 프로덕션 환경
  - 최종 사용자를 대상으로 서비스에 적용: 비즈니스 요구사항에 따라 설계, 운용 및 진화

## 프로덕션 vs 스테이징

스테이징 환경은 프로덕션 환경을 가능한 한 그대로 모사하도록 설계되어야 함

- (가상화된) 인프라의 논리적 구성뿐만 아니라 컴퓨팅 리소스의 물리적/지리적 배치 등도 고려
- 생각해 볼만한 시나리오: 상용 클라우드 서비스에 동일한 구성을 갖는 서로 다른 k8s 클러스터를 이용

우리의 실습에서는 제약점들이 존재함

- 하나의 k8s 클러스터만 이용
- 테스트를 위해서 클러스터 외부로부터의 접근이 어려움 (또는 불가)

실습을 위해 채택하는 방법

- 하나의 클러스터 내에서 네임스페이스만 별도로 구성
- 프로덕션과 스테이징 환경이 분리된 상황에서는 어떻게 파이프라인을 구성할지를 시뮬레이션
